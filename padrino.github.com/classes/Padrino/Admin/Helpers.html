<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Padrino::Admin::Helpers</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'>
        <tr>
            <td class="file-title"><span class="file-title-prefix">Module</span><br />Padrino::Admin::Helpers</td>
            <td align="right">
                <table cellspacing="0" cellpadding="2">
                    <tr valign="top">
                        <td>In:</td>
                        <td>
                            
                            <a href="../../../files/padrino-admin/lib/padrino-admin/helpers/authentication_rb.html">padrino-admin/lib/padrino-admin/helpers/authentication.rb</a>
                            
                            <a href="../../../files/padrino-admin/lib/padrino-admin/helpers/view_rb.html">padrino-admin/lib/padrino-admin/helpers/view.rb</a>
                            
                        </td>
                    </tr>
                    
                </table>
            </td>
        </tr>
    </table>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <ul>
        
        <li><a href="#M000075">admin_menu</a></li>
        
        <li><a href="#M000077">allowed?</a></li>
        
        <li><a href="#M000090">box</a></li>
        
        <li><a href="#M000074">current_account</a></li>
        
        <li><a href="#M000073">logged_in?</a></li>
        
        <li><a href="#M000078">login_required</a></li>
        
        <li><a href="#M000093">open_window_grid</a></li>
        
        <li><a href="#M000080">redirect_back_or_default</a></li>
        
        <li><a href="#M000076">set_current_account</a></li>
        
        <li><a href="#M000086">show_messages_for</a></li>
        
        <li><a href="#M000079">store_location!</a></li>
        
        <li><a href="#M000089">tab</a></li>
        
        <li><a href="#M000085">title</a></li>
        
    </ul>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">MODULE</span> <a href="Helpers/AbstractFormBuilder.html">Padrino::Admin::Helpers::AbstractFormBuilder</a></li>
        
    </ul>
    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000075"></a><b>admin_menu</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Return the admin menu
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000075_source')" id="l_M000075_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L21" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000075_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 21</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admin_menu</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;[]&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">current_account</span>
        <span class="ruby-identifier">access_control</span>.<span class="ruby-identifier">auths</span>(<span class="ruby-identifier">current_account</span>).<span class="ruby-identifier">project_modules</span>.<span class="ruby-identifier">collect</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">:config</span>).<span class="ruby-identifier">to_json</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000077"></a><b>allowed?</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns true if the <tt><a
href="Helpers.html#M000074">current_account</a></tt> is allowed to see the
requested path
</p>
<p>
For configure this role please refer to: +Padrino::AccessControl::Base+
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000077_source')" id="l_M000077_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L43" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000077_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 43</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">allowed?</span>
        <span class="ruby-identifier">access_control</span>.<span class="ruby-identifier">auths</span>(<span class="ruby-identifier">current_account</span>).<span class="ruby-identifier">can?</span>(<span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000090"></a><b>box</b>(title=nil, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  
                  <p>
This method generates a new ExtJs BoxComponent.
</p>
<pre>
  Examples:

    -box &quot;My Title&quot;, &quot;My Subtitle&quot;, :submit =&gt; true, :collapsible =&gt; true, :style =&gt; &quot;padding:none&quot;, :start =&gt; :close do
      my content
</pre>
<p>
Defaults:
</p>
<ul>
<li>:submit => false

</li>
<li>:collapsible => false

</li>
<li>:start => :close

</li>
</ul>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000090_source')" id="l_M000090_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/7a19e7147ffd2e36958f0714551eb4f51c7068cd/padrino-admin/lib/padrino-admin/helpers/view.rb#L102" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000090_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/view.rb, line 102</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">box</span>(<span class="ruby-identifier">title</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
        <span class="ruby-identifier">title</span> = <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-node">&quot;admin.boxs.#{title.to_s.downcase}&quot;</span>, <span class="ruby-identifier">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">humanize</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">title</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
        <span class="ruby-identifier">subtitle</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:subtitle</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:style</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;width:100%;&quot;</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:start</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">:open</span>
        <span class="ruby-identifier">concat_content</span> (<span class="ruby-value str">&quot;&lt;div class=\&quot;\#{options[:class]}\&quot; style=\&quot;options[:margin]\&quot;&gt;\n&lt;div class=\&quot;x-box\&quot;&gt;\n&lt;div class=\&quot;x-box-tl\&quot;&gt;\n&lt;div class=\&quot;x-box-tr\&quot;&gt;\n&lt;div class=\&quot;x-box-tc\&quot;&gt;&amp;nbsp;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;x-box-ml\&quot;&gt;\n&lt;div class=\&quot;x-box-mr\&quot;&gt;\n&lt;div class=\&quot;x-box-mc\&quot;&gt;\n&lt;div id=\&quot;x-body-title\&quot; style=\&quot;\#{\&quot;cursor:pointer\&quot; if options[:collapsible]}\&quot; onclick=\&quot;\#{\&quot;Backend.app.collapseBoxes(this);\&quot; if options[:collapsible]}\&quot;&gt;\n\#{\&quot;&lt;h3 style=\\\&quot;margin-bottom:0px;padding-bottom:0px;float:left;\\\&quot;&gt;\&quot;+title+\&quot;&lt;/h3&gt;\&quot; if title.present?}\n\#{\&quot;&lt;div style=\\\&quot;float:right\\\&quot;&gt;&lt;em&gt;\&quot;+subtitle+\&quot;&lt;/em&gt;&lt;/div&gt;\&quot; if subtitle.present?}\n\#{\&quot;&lt;br class=\\\&quot;clear\\\&quot; /&gt;\&quot; if title.present? || subtitle.present?}\n\#{\&quot;&lt;div style=\\\&quot;font-size:0px\\\&quot;&gt;&amp;nbsp;&lt;/div&gt;\&quot; if title.present? || subtitle.present?}\n&lt;/div&gt;\n&lt;div class=\&quot;\#{\&quot;x-box-collapsible\&quot; if options[:collapsible]}\&quot; style=\&quot;width:99%;\#{\&quot;display:none\&quot; if options[:collapsible] &amp;&amp; options[:start] == :close}\&quot;&gt;\n\#{\&quot;&lt;div style=\\\&quot;font-size:10px\\\&quot;&gt;&amp;nbsp;&lt;/div&gt;\&quot; if title.present? || subtitle.present?}\n\#{capture_html(&amp;block)}\n\#{\&quot;&lt;div style=\\\&quot;text-align:right;margin-top:10px\\\&quot;&gt;\#{submit_tag(I18n.t(\&quot;lipsiadmin.buttons.save\&quot;), :onclick=&gt;\&quot;Backend.app.submitForm()\&quot;)}&lt;/div&gt;\&quot; if options[:submit]}\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;x-box-bl\&quot;&gt;\n&lt;div class=\&quot;x-box-br\&quot;&gt;\n&lt;div class=\&quot;x-box-bc\&quot;&gt;&amp;nbsp;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {10}/</span>, <span class="ruby-value str">''</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000074"></a><b>current_account</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns the <a href="Helpers.html#M000074">current_account</a>, it&#8217;s
an instance of <tt>Account</tt> model
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000074_source')" id="l_M000074_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L14" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000074_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 14</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_account</span>
        <span class="ruby-ivar">@current_account</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">login_from_session</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000073"></a><b>logged_in?</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns true if <tt><a href="Helpers.html#M000074">current_account</a></tt>
is logged and active.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000073_source')" id="l_M000073_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L7" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000073_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 7</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">logged_in?</span>
        <span class="ruby-operator">!</span><span class="ruby-identifier">current_account</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000078"></a><b>login_required</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Returns a helper to pass in a <tt>before_filter</tt> for check if an
account are: <tt>logged_in?</tt> and <tt>allowed?</tt>
</p>
<p>
By default this method is used in BackendController so is not necessary
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000078_source')" id="l_M000078_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L53" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000078_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 53</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">login_required</span>
        <span class="ruby-identifier">store_location!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">store_location</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">access_denied</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">allowed?</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000093"></a><b>open_window_grid</b>(object_name, method, options={})
                    
                </div>
                
                <div class="description">
                  
                  <p>
Open a Standard window that can contain a grid. Works like a select_tag.
</p>
<p>
Options can be:
</p>
<table>
<tr><td valign="top">:with:</td><td>name of the association. Ex: :images.

</td></tr>
<tr><td valign="top">:url:</td><td>the url of the gird, by default we autogenerate them using <tt>:with</tt>
ex: url(:images_index, :format => :js)

</td></tr>
<tr><td valign="top">:controller:</td><td>the name of the controller that contains the gird, by default is
<tt>:with</tt>

</td></tr>
<tr><td valign="top">:show:</td><td>value to display, if it&#8217;s a symbol we tranform them using
<tt>with</tt> ex: :name, will be: <a href="http://"images.name"">data</a>

</td></tr>
<tr><td valign="top">:get:</td><td>value to store in our db, Default: <tt>:id</tt>

</td></tr>
<tr><td valign="top">:grid:</td><td>the name of the var of Admin.grid. Default :grid

</td></tr>
<tr><td valign="top">:item:</td><td>the name of container. This necessary in cases where our grid it&#8217;s in
another container.

</td></tr>
<tr><td valign="top">:update:</td><td>javascript function to handle when the user close grid with some
selections. Default autogenerated.

</td></tr>
<tr><td valign="top">:prompt:</td><td>text or html tag to prompt. Default is autogenerated.

</td></tr>
<tr><td valign="top">:prompt_destroy:</td><td>text or html tag to prompt for clear current selections. Default is
autogenerated.

</td></tr>
<tr><td valign="top">:function:</td><td>name of the function. Default is autogenerated.

</td></tr>
<tr><td valign="top">:multiple:</td><td>if true returns a collections of <tt>:value</tt>. Default false.

</td></tr>
</table>
<p>
Example multiple values:
</p>
<pre>
  # Generate:
  # &lt;script type=&quot;text/javascript&quot;&gt;
  #   function showAccountImages(){
  #     Ext.Ajax.request({
  #       url: '/admin/images.js',
  #       scripts: false,
  #       success: function(response){
  #         try { eval(response.responseText) } catch(e) { Admin.app.error(e) };
  #         var win = new Admin.window({ grid: grid, width: 800, height: 600 });
  #         win.on('selected', function(win, selections){ ... });
  #         win.show();
  #       }
  #     });
  #   }
  # &lt;/script&gt;
  # &lt;ul id=&quot;account_images&quot;&gt;
  #   &lt;li&gt;
  #     &lt;span id=&quot;display&quot;&gt;Foo&lt;/span&gt;
  #     &lt;input type=&quot;hidden&quot; name=&quot;account[image_ids][]&quot; value = &quot;1&quot; /&gt;
  #     &lt;a href=&quot;#&quot; onclick=&quot;this.up('li').destroy(); return false&quot;&gt;Remove&lt;/a&gt;
  #   &lt;/li&gt;
  #   &lt;li&gt;
  #     &lt;span id=&quot;display&quot;&gt;Bar&lt;/span&gt;
  #     &lt;input type=&quot;hidden&quot; name=&quot;account[image_ids][]&quot; value = &quot;2&quot; /&gt;
  #     &lt;a href=&quot;#&quot; onclick=&quot;this.up('li').destroy(); return false&quot;&gt;Remove&lt;/a&gt;
  #   &lt;/li&gt;
  # &lt;/ul&gt;
  # &lt;a href=&quot;#&quot; onclick=&quot;showAccountImages(); return false&quot;&gt;Show Images&lt;/a&gt;
  open_grid :account, :image_ids, :with =&gt; :images, :show =&gt; :name, :get =&gt; :id, :multiple =&gt; true
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000093_source')" id="l_M000093_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/7a19e7147ffd2e36958f0714551eb4f51c7068cd/padrino-admin/lib/padrino-admin/helpers/view.rb#L192" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000093_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/view.rb, line 192</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open_window_grid</span>(<span class="ruby-identifier">object_name</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span>={})

        <span class="ruby-comment cmt"># We need plural version of our association</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with</span>]
        <span class="ruby-identifier">controller</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:multiple</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:controller</span>] <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{options[:controller].to_s.pluralize}&quot;</span>.<span class="ruby-identifier">to_sym</span>

        <span class="ruby-comment cmt"># Now we need our association</span>
        <span class="ruby-identifier">association</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{object_name}&quot;</span>).<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with</span>])

        <span class="ruby-comment cmt"># Parsing not mandatory options</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:url</span>]            <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>(<span class="ruby-node">&quot;#{controller}_index&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">:format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:js</span>, <span class="ruby-identifier">:small</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:grid</span>]           <span class="ruby-operator">||=</span> <span class="ruby-identifier">:grid</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:item</span>]           <span class="ruby-operator">||=</span> <span class="ruby-identifier">:undefined</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:get</span>]            <span class="ruby-operator">||=</span> <span class="ruby-identifier">:id</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:prompt</span>]         <span class="ruby-operator">||=</span> <span class="ruby-identifier">image_tag</span>(<span class="ruby-value str">&quot;admin/new.gif&quot;</span>, <span class="ruby-identifier">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;vertical-align:bottom;padding:2px&quot;</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:function</span>]       <span class="ruby-operator">||=</span> <span class="ruby-node">&quot;show#{object_name.to_s.capitalize}#{options[:with].to_s.capitalize}&quot;</span>

        <span class="ruby-comment cmt"># Here we build our html template</span>
        <span class="ruby-identifier">input_name</span>  = <span class="ruby-node">&quot;#{object_name}[#{method}]&quot;</span>
        <span class="ruby-identifier">input_name</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;[]&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:multiple</span>]

        <span class="ruby-comment cmt"># We need always some defaults values</span>
        <span class="ruby-identifier">defaults</span> = <span class="ruby-identifier">hidden_field_tag</span>(<span class="ruby-identifier">input_name</span>)

        <span class="ruby-comment cmt"># Now a reusable (also from extjs) template</span>
        <span class="ruby-identifier">template</span> = (<span class="ruby-value str">&quot;&lt;li&gt;\n&lt;span class=\&quot;display\&quot;&gt;{0}&lt;/span&gt;\n&lt;input type=\&quot;hidden\&quot; name=\&quot;\#{input_name}\&quot; value=\&quot;{1}\&quot;&gt;\n&lt;a href=\&quot;#\&quot; onclick=\&quot;this.up(\\\\'li\\\\').remove(); return false\&quot; class=\&quot;closebutton\&quot;&gt;&amp;nbsp;&lt;/a&gt;\n&lt;/li&gt;\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {10}/</span>, <span class="ruby-value str">&quot;&quot;</span>)

        <span class="ruby-comment cmt"># We create a collection of &lt;li&gt;</span>
        <span class="ruby-identifier">collection</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">association</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> 
          <span class="ruby-identifier">template</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;{0}&quot;</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:show</span>]).<span class="ruby-identifier">to_s</span>).
                   <span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;{1}&quot;</span>, <span class="ruby-identifier">item</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:get</span>]).<span class="ruby-identifier">to_s</span>)
        <span class="ruby-keyword kw">end</span>

        <span class="ruby-comment cmt"># And we add our link for add new records</span>
        <span class="ruby-identifier">li_link</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:li</span>, <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:prompt</span>], <span class="ruby-value str">&quot;#&quot;</span>, <span class="ruby-identifier">:onclick</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{options[:function]}(); return false;&quot;</span>), <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:clean</span>)
        <span class="ruby-identifier">collection</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">li_link</span>

        <span class="ruby-comment cmt"># Now we have the final container</span>
        <span class="ruby-identifier">container</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:ul</span>, <span class="ruby-identifier">defaults</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">join</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;\\&quot;</span>,<span class="ruby-value str">&quot;&quot;</span>), <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{object_name}_#{method}&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;open-window-grid&quot;</span>)

        <span class="ruby-comment cmt"># We need to refactor some values</span>
        <span class="ruby-identifier">show</span>   = <span class="ruby-node">&quot;data['#{controller}.#{options[:show]}']&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:show</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
        <span class="ruby-identifier">get</span>    = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:get</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:get</span>] <span class="ruby-operator">!=</span> <span class="ruby-identifier">:id</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;data['#{controller}.#{options[:get]}']&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:get</span>]

        <span class="ruby-comment cmt"># Updater handler</span>
        <span class="ruby-identifier">update_function</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:multiple</span>]
          (<span class="ruby-value str">&quot;var parent = win.parent.body.select(\&quot;*[id=\#{object_name}_\#{method}]\&quot;).first();\nExt.each(selections, function(selection){\nvar template = String.format('\#{template.gsub(/\\n/,\&quot;\&quot;)}', selection.\#{show}, selection.\#{get});\nparent.insertHtml('afterBegin', template);\n});\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {12}/</span>, <span class="ruby-value str">&quot;&quot;</span>)
        <span class="ruby-keyword kw">else</span>
          (<span class="ruby-value str">&quot;var selection = selections.first();\nvar template = String.format('\#{template.gsub(/\\n/,\&quot;\&quot;)}', selection.\#{show}, selection.\#{get}) + '\#{li_link}';\nwin.parent.body.select(\&quot;*[id=\#{object_name}_\#{method}]\&quot;).first().update(template);\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {12}/</span>, <span class="ruby-value str">&quot;&quot;</span>)
        <span class="ruby-keyword kw">end</span>

        <span class="ruby-comment cmt"># Now we build the update function (if not present)</span>
        <span class="ruby-identifier">javascript</span> = (<span class="ruby-value str">&quot;function \#{options[:function]}(){\nvar me = Ext.WindowMgr.getActive();\nExt.Ajax.request({\nurl: '\#{options[:url]}',\nscripts: false,\nsuccess: function(response){\ntry { eval(response.responseText) } catch(e) { Admin.app.error(e) };\nvar win = new Admin.window({ grid: \#{options[:grid]}, item: \#{options[:item]}, width: 800, height:600, modal: true, parent:me });\nwin.on('selected', function(win, selections){\n\#{update_function}\n});\nwin.show();\n}\n});\n}\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {10}/</span>, <span class="ruby-value str">''</span>)

        <span class="ruby-comment cmt"># Now we return our html code</span>
        [<span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:script</span>, <span class="ruby-identifier">javascript</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/javascript'</span>), <span class="ruby-identifier">container</span>, <span class="ruby-identifier">tag</span>(<span class="ruby-identifier">:div</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:clear</span>)].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000080"></a><b>redirect_back_or_default</b>(default)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Redirect the account to the page that requested an authentication or if the
account is not allowed/logged return it to a default page
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000080_source')" id="l_M000080_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L69" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000080_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 69</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">redirect_back_or_default</span>(<span class="ruby-identifier">default</span>)
        <span class="ruby-identifier">redirect</span>(<span class="ruby-identifier">session</span>[<span class="ruby-identifier">:return_to</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>)
        <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:return_to</span>] = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000076"></a><b>set_current_account</b>(account=nil)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Ovverride the <a href="Helpers.html#M000074">current_account</a>, you must
provide an instance of Account Model
</p>
<pre>
  Examples:

    current_account = Account.last
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000076_source')" id="l_M000076_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L33" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000076_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 33</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_current_account</span>(<span class="ruby-identifier">account</span>=<span class="ruby-keyword kw">nil</span>)
        <span class="ruby-identifier">session</span>[<span class="ruby-identifier">options</span>.<span class="ruby-identifier">session_id</span>] = <span class="ruby-identifier">account</span> <span class="ruby-value">? </span><span class="ruby-identifier">account</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
        <span class="ruby-ivar">@current_account</span> = <span class="ruby-identifier">account</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000086"></a><b>show_messages_for</b>(*objects)
                    
                </div>
                
                <div class="description">
                  
                  <p>
This method work like error_message_for but use an Ext.Message.show({..})
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000086_source')" id="l_M000086_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/7a19e7147ffd2e36958f0714551eb4f51c7068cd/padrino-admin/lib/padrino-admin/helpers/view.rb#L21" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000086_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/view.rb, line 21</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show_messages_for</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">objects</span>)
        <span class="ruby-identifier">options</span>       = <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">extract_options!</span>.<span class="ruby-identifier">symbolize_keys</span>
        <span class="ruby-identifier">count</span>         = <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span> }
        <span class="ruby-identifier">error_cleaner</span> = <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;var x = parent.body.select('*[id=#{object.class.to_s.downcase}_#{k.name}]').first(); if (x) { x.removeClass('x-form-invalid') };&quot;</span> } }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)

        <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">count</span>.<span class="ruby-identifier">zero?</span>
          <span class="ruby-identifier">html</span> = {}
          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:object_name</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">class</span>

          <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">with_options</span> <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:locale</span>], <span class="ruby-identifier">:scope</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:models</span>, <span class="ruby-identifier">:errors</span>, <span class="ruby-identifier">:template</span>] <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">locale</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">header_message</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:header_message</span>)
              <span class="ruby-identifier">escape_javascript</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:header_message</span>])
            <span class="ruby-keyword kw">else</span>
              <span class="ruby-identifier">object_name</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:object_name</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'_'</span>, <span class="ruby-value str">' '</span>)
              <span class="ruby-identifier">object_name</span> = <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">object_name</span>, <span class="ruby-identifier">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">object_name</span>, <span class="ruby-identifier">:scope</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">:models</span>], <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
              <span class="ruby-identifier">escape_javascript</span>(<span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span> <span class="ruby-identifier">:header</span>, <span class="ruby-identifier">:count</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">count</span>, <span class="ruby-identifier">:model</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">object_name</span>)
            <span class="ruby-keyword kw">end</span>
            <span class="ruby-identifier">message</span> = <span class="ruby-identifier">escape_javascript</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:message</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:message</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">t</span>(<span class="ruby-identifier">:body</span>))
            <span class="ruby-identifier">error_messages</span> = <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:li</span>, <span class="ruby-identifier">escape_javascript</span>(<span class="ruby-identifier">msg</span>)) } }.<span class="ruby-identifier">join</span>
            <span class="ruby-identifier">error_highlighter</span> = <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">errors_keys</span>.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;var x = parent.body.select('*[id=#{object.class.to_s.downcase}_#{k}]').first(); x.addClass('x-form-invalid');&quot;</span> } }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
            <span class="ruby-identifier">contents</span> = <span class="ruby-value str">''</span>
            <span class="ruby-identifier">contents</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:p</span>, <span class="ruby-identifier">message</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">present?</span>
            <span class="ruby-identifier">contents</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:ul</span>, <span class="ruby-identifier">error_messages</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:list</span>)

            (<span class="ruby-value str">&quot;var parent = Ext.WindowMgr.getActive();\n\#{error_cleaner}\nExt.Msg.show({\ntitle: '\#{header_message}',\nmsg: '&lt;ul&gt;\#{contents}&lt;/ul&gt;',\nbuttons: Ext.Msg.OK,\nminWidth: 400\n});\n\#{error_highlighter}\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {14}/</span>, <span class="ruby-value str">''</span>)
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">else</span>
          (<span class="ruby-value str">&quot;var parent = Ext.WindowMgr.getActive();\n\#{error_cleaner}\nExt.Msg.alert(Admin.locale.messages.compliments.title, Admin.locale.messages.compliments.message);\n&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/ {12}/</span>, <span class="ruby-value str">''</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000079"></a><b>store_location!</b>()
                    
                </div>
                
                <div class="description">
                  
                  <p>
Store in session[:return_to] the request.fullpath
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000079_source')" id="l_M000079_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/156f1d7f21be74080fe8cc33883a47b0caeef77a/padrino-admin/lib/padrino-admin/helpers/authentication.rb#L61" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000079_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/authentication.rb, line 61</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">store_location!</span>
        <span class="ruby-identifier">session</span>[<span class="ruby-identifier">:return_to</span>] = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">fullpath</span>
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000089"></a><b>tab</b>(name, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  
                  <p>
This method add tab for in your view.
</p>
<p>
First argument is the name and title of the tab, an interesting thing wose
that this helper try to translate itself to your current locale ex:
</p>
<pre>
  # Look for: I18n.t(&quot;backend.tabs.settings&quot;, :default =&gt; &quot;Settings&quot;)
  tab :settings do
    ...
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000089_source')" id="l_M000089_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/7a19e7147ffd2e36958f0714551eb4f51c7068cd/padrino-admin/lib/padrino-admin/helpers/view.rb#L78" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000089_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/view.rb, line 78</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tab</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:id</span>]    <span class="ruby-operator">||=</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[^a-z0-9]+/</span>, <span class="ruby-value str">'_'</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/-+$/</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^-+$/</span>, <span class="ruby-value str">''</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:style</span>]  = <span class="ruby-node">&quot;padding:10px;#{options[:style]}&quot;</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:title</span>]  = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-node">&quot;admin.tabs.#{name.to_s.downcase}&quot;</span>, <span class="ruby-identifier">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">humanize</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">name</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tabbed</span>] = <span class="ruby-keyword kw">true</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:class</span>]  = <span class="ruby-value str">&quot;x-hide-display&quot;</span>
        <span class="ruby-identifier">container</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:div</span>, <span class="ruby-identifier">capture_html</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>), <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:full</span>) <span class="ruby-comment cmt"># Is necessary for IE6+</span>
        <span class="ruby-identifier">concat_content</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-identifier">:div</span>, <span class="ruby-identifier">container</span>, <span class="ruby-identifier">options</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title">
                    
                    <a name="M000085"></a><b>title</b>(title)
                    
                </div>
                
                <div class="description">
                  
                  <p>
Set the title of the page.
</p>
<p>
An interesting thing wose that this helper try to translate itself to your
current locale ex:
</p>
<pre>
  # Look for: I18n.t(&quot;backend.titles.welcome_here&quot;, :default =&gt; &quot;Welcome Here&quot;)
  title :welcome_here
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000085_source')" id="l_M000085_source">show</a>
                        
                        | <a href="http://github.com/padrino/padrino-framework/blob/7a19e7147ffd2e36958f0714551eb4f51c7068cd/padrino-admin/lib/padrino-admin/helpers/view.rb#L13" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000085_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File padrino-admin/lib/padrino-admin/helpers/view.rb, line 13</span>
      <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">title</span>(<span class="ruby-identifier">title</span>)
        <span class="ruby-identifier">title</span> = <span class="ruby-constant">I18n</span>.<span class="ruby-identifier">t</span>(<span class="ruby-node">&quot;admin.titles.#{title}&quot;</span>, <span class="ruby-identifier">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">title</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
        <span class="ruby-identifier">tag</span>(<span class="ruby-identifier">:span</span>, <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title</span>)
      <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    